(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{14:function(e,n,a){e.exports={PagNav:"Pagination_PagNav__zVYgZ",Pagination:"Pagination_Pagination__t1Z-H",PageItem:"Pagination_PageItem__k_7GU",ActivePageItem:"Pagination_ActivePageItem__fY5SH",PageLink:"Pagination_PageLink__FPE7O",ActivePageLink:"Pagination_ActivePageLink__301p2"}},16:function(e,n,a){e.exports={App:"App_App__1ZD_z",Header:"App_Header__38w0r",HeaderName:"App_HeaderName__1Wl6c"}},27:function(e,n,a){e.exports={MoviesContainer:"Movies_MoviesContainer__89oFj",Movies:"Movies_Movies__1bBpj"}},28:function(e,n,a){e.exports={Ring:"Spinner_Ring__2RIOu",animateC:"Spinner_animateC__w_ySN",Span:"Spinner_Span__1_vkm",animate:"Spinner_animate__2ZuHD"}},29:function(e,n,a){e.exports={EnterButton:"EnterButton_EnterButton__1eKDN",IconContainer:"EnterButton_IconContainer__tlX8v"}},30:function(e,n,a){e.exports={BackButton:"BackButton_BackButton__2mpIf",IconContainer:"BackButton_IconContainer__dLXV4"}},40:function(e,n,a){},5:function(e,n,a){e.exports={SingleMovieContainer:"SingleMoviePage_SingleMovieContainer__3B1QT",SingleMovie:"SingleMoviePage_SingleMovie__2ofJq",ImageContainer:"SingleMoviePage_ImageContainer__1vghd",Image:"SingleMoviePage_Image__2feNa",MovieInfo:"SingleMoviePage_MovieInfo__1bOc8",Name:"SingleMoviePage_Name__2dgy5",ReleaseDate:"SingleMoviePage_ReleaseDate__2GHvJ",Genres:"SingleMoviePage_Genres__12zgJ",List:"SingleMoviePage_List__23wvf",Item:"SingleMoviePage_Item__3Shku",SinopsisName:"SingleMoviePage_SinopsisName__2zi4X",SinopsisContent:"SingleMoviePage_SinopsisContent__1w5ae",CommentSection:"SingleMoviePage_CommentSection__2MZii",Comment:"SingleMoviePage_Comment__2qupL",CommentContent:"SingleMoviePage_CommentContent__eh5rj",CloseIconContainer:"SingleMoviePage_CloseIconContainer__Ty9fZ",InputContainer:"SingleMoviePage_InputContainer__20PpO",Input:"SingleMoviePage_Input__34uGK"}},50:function(e,n,a){"use strict";a.r(n);var t=a(3),i=a(32),o=a.n(i),s=(a(40),a(24)),c=a.n(s),r=a(33),l=a(11),m=a(16),j=a.n(m),v=a(21),_=a(34),g=a(12),u=a(9),d=a.n(u),b=a(1),O=function(e){return Object(b.jsx)("div",{className:d.a.MovieCardContainer,children:Object(b.jsxs)("div",{className:d.a.MovieCard,children:[Object(b.jsx)("div",{className:d.a.ImageContainer,children:Object(b.jsx)("img",{className:d.a.Image,src:e.src,alt:""})}),Object(b.jsxs)("div",{className:d.a.HoverInfo,children:[Object(b.jsxs)("div",{className:d.a.Rating,children:[Object(b.jsx)("div",{className:d.a.IconContainer,children:Object(b.jsx)(_.a,{})}),Object(b.jsx)("p",{className:d.a.RatingNum,children:e.rating})]}),Object(b.jsx)("div",{className:d.a.Genres,children:e.genres.map((function(n){return Object(b.jsx)("p",{className:d.a.Genre,children:n},e.rating*Math.random()+Math.random())}))}),Object(b.jsx)(g.b,{to:"MovieApp/single_movie",className:d.a.Button,onClick:function(){var n={source:e.movieData.source,name:e.movieData.name,releaseYear:e.movieData.releaseYear,genres:e.movieData.genres,synopsis:e.movieData.synopsis,id:e.movieData.id};e.onSaveMovieData(n)},children:Object(b.jsx)("p",{className:d.a.LinkMore,children:"More"})})]})]})})},p=a(27),x=a.n(p),C=function(e){var n=function(n){var a=Object(v.a)({},n);e.onGetMovieInfo(a)};return Object(b.jsx)("div",{className:x.a.MoviesContainer,children:Object(b.jsx)("div",{className:x.a.Movies,children:e.currentMovies.map((function(e){return Object(b.jsx)(O,{src:e.medium_cover_image,genres:e.genres,rating:e.rating,onSaveMovieData:n,movieData:{source:e.large_cover_image,name:e.title,releaseYear:e.year,genres:e.genres,synopsis:e.synopsis,id:e.id}},e.id)}))})})},M=a(14),f=a.n(M),N=function(e){for(var n=[],a=1;a<=Math.ceil(e.totalMovies/e.moviesPerPage);a++)n.push(a);return Object(b.jsx)("nav",{className:f.a.PagNav,children:Object(b.jsx)("ul",{className:f.a.Pagination,children:n.map((function(n){return Object(b.jsx)("li",{className:e.currentPage===n?f.a.ActivePageItem:f.a.PageItem,onClick:function(){return e.onPaginate(n)},children:Object(b.jsx)("p",{className:e.currentPage===n?f.a.ActivePageLink:f.a.PageLink,children:n})},n)}))})})},h=a(28),S=a.n(h),P=function(){return Object(b.jsxs)("div",{className:S.a.Ring,children:["Loading",Object(b.jsx)("span",{className:S.a.Span})]})},I=a(4),k=a(17),B=a(15),y=a(29),L=a.n(y),R=function(e){return Object(b.jsx)("button",{className:L.a.EnterButton,onClick:e.onPostComment,children:Object(b.jsx)("div",{className:L.a.IconContainer,children:Object(b.jsx)(B.b,{})})})},A=a(5),D=a.n(A),G=function(){var e=Object(t.useState)([]),n=Object(l.a)(e,2),a=n[0],i=n[1],o=Object(t.useState)(""),s=Object(l.a)(o,2),c=s[0],r=s[1],m=Object(t.useState)(Object(v.a)({},JSON.parse(localStorage.getItem("movie")))),j=Object(l.a)(m,1)[0];return Object(t.useEffect)((function(){var e=localStorage.getItem("comments for ".concat(j.name))?JSON.parse(localStorage.getItem("comments for ".concat(j.name))):[];0!==e.length&&i(e)}),[j.name]),Object(t.useEffect)((function(){0!==a.length&&localStorage.setItem("comments for ".concat(j.name),JSON.stringify(Object(k.a)(a)))}),[a,j]),Object(b.jsx)("div",{className:D.a.SingleMovieContainer,children:Object(b.jsxs)("div",{className:D.a.SingleMovie,children:[Object(b.jsx)("div",{className:D.a.ImageContainer,children:Object(b.jsx)("img",{className:D.a.Image,src:j.source,alt:""})}),Object(b.jsxs)("div",{className:D.a.MovieInfo,children:[Object(b.jsx)("p",{className:D.a.Name,children:j.name}),Object(b.jsx)("p",{className:D.a.ReleaseDate,children:j.releaseYear}),Object(b.jsx)("div",{className:D.a.Genres,children:Object(b.jsx)("ul",{className:D.a.List,children:j.genres?j.genres.map((function(e){return Object(b.jsx)("li",{className:D.a.Item,children:e},j.id*Math.random())})):""})}),Object(b.jsxs)("div",{className:D.a.Sinopsis,children:[Object(b.jsx)("p",{className:D.a.SinopsisName,children:"Synopsis"}),Object(b.jsx)("p",{className:D.a.SinopsisContent,children:j.synopsis})]}),Object(b.jsxs)("div",{className:D.a.CommentSection,children:[Object(b.jsx)("p",{className:D.a.SinopsisName,children:"Comments"}),a.map((function(e){return Object(b.jsxs)("div",{className:D.a.Comment,children:[Object(b.jsx)("p",{className:D.a.CommentContent,children:e}),Object(b.jsx)("div",{className:D.a.CloseIconContainer,onClick:function(){return function(e){var n=Object(k.a)(a).filter((function(n){return n!==e}));i(Object(k.a)(n)),localStorage.setItem("comments for ".concat(j.name),JSON.stringify(Object(k.a)(n)))}(e)},children:Object(b.jsx)(B.a,{})})]},Math.random()*Math.random())})),Object(b.jsxs)("div",{className:D.a.InputContainer,children:[Object(b.jsx)("input",{type:"text",placeholder:"Leave a comment",onChange:function(e){r(e.target.value)},className:D.a.Input,value:c}),Object(b.jsx)(R,{onPostComment:c?function(){i([].concat(Object(k.a)(a),[c])),r("")}:void 0})]})]})]})]})})},H=a(30),J=a.n(H),E=function(e){return Object(b.jsx)(g.b,{to:"/",children:Object(b.jsx)("button",{className:J.a.BackButton,onClick:e.onResetMovie,children:Object(b.jsx)("div",{className:J.a.IconContainer,children:Object(b.jsx)(B.c,{})})})})},w=function(){var e=Object(t.useState)([]),n=Object(l.a)(e,2),a=n[0],i=n[1],o=Object(t.useState)(!1),s=Object(l.a)(o,2),m=s[0],v=s[1],_=Object(t.useState)(1),g=Object(l.a)(_,2),u=g[0],d=g[1],O=Object(t.useState)(8),p=Object(l.a)(O,1)[0],x=Object(t.useState)(!!localStorage.getItem("movie")),M=Object(l.a)(x,2),f=M[0],h=M[1],S=function(){var e=Object(r.a)(c.a.mark((function e(){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch("https://yts.mx/api/v2/list_movies.json?limit=40");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,v(!1),i(a.data.movies);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(t.useEffect)((function(){S()}),[]);var k=function(e){localStorage.setItem("movie",JSON.stringify(e)),console.log(JSON.parse(localStorage.getItem("movie"))),h(!0)},B=u*p,y=B-p,L=a.slice(y,B),R=Object(b.jsxs)(I.d,{children:[Object(b.jsx)(I.b,{path:"/single_movie",render:function(){return Object(b.jsx)(G,{})}}),Object(b.jsx)(I.b,{path:"/MovieApp",render:function(){return Object(b.jsx)("div",{className:j.a.MoviesContainer,children:Object(b.jsx)(C,{currentMovies:L,onGetMovieInfo:k})})}}),Object(b.jsx)(I.a,{to:"/MovieApp"})]});m&&(R=Object(b.jsx)(P,{}));var A=f?Object(b.jsx)("p",{className:j.a.HeaderName,children:JSON.parse(localStorage.getItem("movie")).name}):Object(b.jsx)("p",{className:j.a.HeaderName,children:"Movies"}),D=f?Object(b.jsx)(E,{onResetMovie:function(){localStorage.removeItem("movie"),h(!1)}}):Object(b.jsx)(N,{moviesPerPage:p,totalMovies:a.length,onPaginate:function(e){d(e)},currentPage:u});return Object(b.jsxs)("div",{className:j.a.App,children:[Object(b.jsxs)("header",{className:j.a.Header,children:[A,D]}),R]})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(n){var a=n.getCLS,t=n.getFID,i=n.getFCP,o=n.getLCP,s=n.getTTFB;a(e),t(e),i(e),o(e),s(e)}))};o.a.render(Object(b.jsx)(g.a,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),Y()},9:function(e,n,a){e.exports={MovieCardContainer:"MovieCard_MovieCardContainer__Dykya",MovieCard:"MovieCard_MovieCard__31bnk",Image:"MovieCard_Image__YGNPv",HoverInfo:"MovieCard_HoverInfo__2tAOR",Rating:"MovieCard_Rating__HK2Pq",IconContainer:"MovieCard_IconContainer__sP4OX",RatingNum:"MovieCard_RatingNum__1M9sp",Genres:"MovieCard_Genres__1XhRd",Genre:"MovieCard_Genre__1N_A5",Button:"MovieCard_Button__1CRg5",LinkMore:"MovieCard_LinkMore__2TsXf"}}},[[50,1,2]]]);
//# sourceMappingURL=main.7bca5597.chunk.js.map